<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Mini Stumble Guys — Werkend</title>
<style>
html,body{height:100%;margin:0;background:#e9f5ff;font-family:Arial,Helvetica,sans-serif}
.wrap{display:flex;flex-direction:column;align-items:center;padding:12px}
canvas{background:linear-gradient(#cde7ff,#9fd8ff);border:4px solid #3aa0ff;border-radius:10px;display:block}
h1{margin:8px 0 6px;color:#064f8c}
p{margin:4px 0 12px}
.hint{font-size:14px;color:#073b5a}
</style>
</head>
<body>
<div class="wrap">
<h1>Mini Stumble Guys (werkend)</h1>
<p class="hint">← → om te bewegen, Spatie om te springen. Druk R om te resetten.</p>
<canvas id="game" width="900" height="420"></canvas>
</div>


<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const W = canvas.width, H = canvas.height;


// input
let keys = {};
window.addEventListener('keydown', e => {
// voorkom dat pijl-toetsen en spatie de pagina laten scrollen
if(['ArrowLeft','ArrowRight','Space','ArrowUp','KeyW','KeyR'].includes(e.code)) e.preventDefault();
keys[e.code] = true;
});
window.addEventListener('keyup', e => { keys[e.code] = false; });


function rand(min,max){return Math.random()*(max-min)+min}


// speler
const player = { x:50, y:H-120, w:34, h:48, vx:0, vy:0, speed:2.8, jump:-10, onGround:false, color:'#ff6b6b' };


let platforms = [], obstacles = [], finishX = 1200, cameraX = 0, state = 'playing';


function reset(){
player.x = 50; player.y = H-120; player.vx = 0; player.vy = 0; player.onGround = false;
platforms = [];
obstacles = [];
cameraX = 0;
state = 'playing';


// grote grond
platforms.push({x:-1000, y:H-30, w:4000, h:30});


// serie platforms en af en toe obstakels
let x = 150;
for(let i=0;i<12;i++){
const w = Math.floor(rand(80,160));
const y = H - Math.floor(rand(80,200));
platforms.push({x:x, y:y, w:w, h:12});
if(Math.random() < 0.5){
obstacles.push({x: x + Math.floor(w*0.5), y: y - 20, r: 18, angle: 0, speed: rand(0.05,0.12)});
}
x += w + Math.floor(rand(40,160));
}
finishX = x + 120;
}


reset();


function update(){
if(state !== 'playing') return;


// beweging
player.vx = 0;
if(keys['ArrowLeft']) player.vx = -player.speed;
if(keys['ArrowRight']) player.vx = player.speed;


</html>