<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <title>Mini Brawl Stars</title>
  <style>
    body { margin:0; background:#f0f0f0; }
    canvas { display:block; margin:auto; background:#aeeaff; border:3px solid #000; }
  </style>
</head>
<body>
<canvas id="game" width="600" height="400"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let keys = {};

// speler
let player = {x:300,y:200,w:30,h:30,speed:3, bullets: []};

// vijanden
let enemies = [
  {x:100,y:50,w:30,h:30, color:'red'},
  {x:500,y:50,w:30,h:30, color:'red'}
];

// invoer
document.addEventListener("keydown", e => { keys[e.code]=true; });
document.addEventListener("keyup", e => { keys[e.code]=false; });

// schieten
function shoot() {
  player.bullets.push({x:player.x+player.w/2-5, y:player.y-10, w:10, h:10, vy:-6});
}

// botsing helper
function collide(a,b){
  return a.x<a.x+b.w && a.x+a.w>b.x && a.y<a.y+b.h && a.y+a.h>b.y;
}

// game loop
function loop(){
  // bewegen speler
  if(keys["ArrowLeft"]) player.x -= player.speed;
  if(keys["ArrowRight"]) player.x += player.speed;
  if(keys["ArrowUp"]) player.y -= player.speed;
  if(keys["ArrowDown"]) player.y += player.speed;
  if(keys["Space"] && player.bullets.length<5) shoot();

  // update bullets
  player.bullets.forEach((b,i)=>{
    b.y += b.vy;
    // check botsing met vijanden
    enemies.forEach((e,j)=>{
      if(collide(b,e)){
        enemies.splice(j,1);
        player.bullets.splice(i,1);
      }
    });
    // buiten canvas
    if(b.y<0) player.bullets.splice(i,1);
  });

  // tekenen
  ctx.clearRect(0,0,600,400);

  // speler
  ctx.fillStyle='blue';
  ctx.fillRect(player.x,player.y,player.w,player.h);

  // vijanden
  enemies.forEach(e=>{
    ctx.fillStyle = e.color;
    ctx.fillRect(e.x,e.y,e.w,e.h);
  });

  // bullets
  player.bullets.forEach(b=>{
    ctx.fillStyle='yellow';
    ctx.fillRect(b.x,b.y,b.w,b.h);
  });

  // HUD
  ctx.fillStyle='black';
  ctx.font='16px Arial';
  ctx.fillText('Enemies: '+enemies.length, 10,20);

  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
